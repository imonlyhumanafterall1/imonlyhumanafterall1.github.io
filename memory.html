<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ILOVEUUUU</title>

    <!-- Google Font -->
    <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap"
            rel="stylesheet"
    />

    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            min-height:100vh;
            display:flex;
            flex-direction:column;
            align-items:center;
            justify-content:center;
            font-family:'Poppins',sans-serif;
            background: linear-gradient(135deg,#ff9a9e,#fad0c4);
            color:#333;
            text-align:center;
            padding:1rem;
        }

        h1 { margin-bottom:.5rem; }
        p  { margin-bottom:1rem; font-weight:300; }

        #game {
            display:grid;
            grid-template-columns:repeat(4,80px);
            grid-gap:15px;
            margin-bottom:1.5rem;
        }

        .card {
            width:80px; height:80px;
            background:#fff;
            border-radius:8px;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:2rem;
            cursor:pointer;
            user-select:none;
            position:relative;
            transform: scale(1);
            transition: transform .2s;
        }

        .card.flipped {
            background:#f0f0f0;
            pointer-events:none;
        }

        .card.matched {
            visibility:hidden;
        }

        #nextBtn {
            display:none;
            padding:.75rem 1.5rem;
            background:#203a43;
            color:#f5f5f5;
            border:none;
            border-radius:25px;
            font-weight:600;
            cursor:pointer;
            transition:transform .2s;
        }
        #nextBtn:hover {
            transform:scale(1.05);
        }
    </style>
</head>
<body>

<h1>💥MATCHDATILES💥</h1>
<p>you have 1 minute >:3</p>
<div id="game"></div>
<button id="nextBtn">im very good at this</button>

<!-- Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
    const symbols = ['🍰','🤩','🎁','🎉','🥳','💖','🌟','🍦'];
    let deck = [...symbols, ...symbols].sort(() => Math.random() - 0.5);

    const game    = document.getElementById('game');
    const nextBtn = document.getElementById('nextBtn');

    let firstCard  = null;
    let secondCard = null;
    let lockBoard  = false;
    let matches    = 0;

    // Build cards
    deck.forEach((sym, i) => {
        const card = document.createElement('div');
        card.className = 'card';
        card.dataset.symbol = sym;
        card.innerText = '';  // face-down
        card.addEventListener('click', () => flipCard(card));
        game.appendChild(card);
    });

    function flipCard(card) {
        if (lockBoard) return;
        card.classList.add('flipped');
        card.innerText = card.dataset.symbol;

        if (!firstCard) {
            firstCard = card;
            return;
        }
        secondCard = card;
        checkForMatch();
    }

    function checkForMatch() {
        lockBoard = true;
        if (firstCard.dataset.symbol === secondCard.dataset.symbol) {
            // correct
            firstCard.classList.add('matched');
            secondCard.classList.add('matched');
            matches++;
            resetTurn();
            if (matches === symbols.length) gameWon();
        } else {
            // wrong: flip back
            setTimeout(() => {
                firstCard.classList.remove('flipped');
                secondCard.classList.remove('flipped');
                firstCard.innerText = '';
                secondCard.innerText = '';
                resetTurn();
            }, 800);
        }
    }

    function resetTurn() {
        [firstCard, secondCard] = [null, null];
        lockBoard = false;
    }

    function gameWon() {
        confetti({
            particleCount: 200,
            spread: 70,
            origin: { x: 0.5, y: 0.3 }
        });
        nextBtn.style.display = 'inline-block';
    }

    nextBtn.addEventListener('click', () => {
        window.location.href = 'final.html';
    });
</script>
</body>
</html>